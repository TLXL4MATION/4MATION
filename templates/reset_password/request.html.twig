{% extends 'base.html.twig' %}

{% set currentYear = date('Y') %}
{% set currentYearString = currentYear|date('Y') %}

{% block title %}Connexion{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/register.css') }}">
{% endblock %}

{% block body %}



    <div class="form-signin text-center">

        {{ form_start(requestForm) }}
        <img class="mb-4 rounded" src="{{ asset('img/logo4mation.png') }}" alt="" width="80%">
        <h1 class="h3 mb-3 fw-normal">Réinitialiser le mot de passe</h1>
        <p>Entrer votre email, s'il existe, vous recevrez un mail pour changer votre mot de passe</p>

        {% for flash_error in app.flashes('reset_password_error') %}
            <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
        {% endfor %}

        {% if successMessage %}
            <div class="alert alert-success" role="alert">{{ successMessage }}</div>
        {% endif %}
        <div class="form-floating pb-4">
            <input type="email" class="form-control {% if form_errors(requestForm.email) %}is-invalid{% endif %}"
                   id="floatingInput" placeholder="name@example.com"
                   name="{{ field_name(requestForm.email) }}"
                   value="{{ field_value(requestForm.email) }}">
            <label for="floatingInput">{{ field_label(requestForm.email) }}</label>
            {% if form_errors(requestForm.email) %}
                <div class="form-text text-danger">
                    {{ form_errors(requestForm.email) }}
                </div>
            {% endif %}
        </div>

        <button class="w-100 btn btn-lg btn-primary bg-primaire" type="submit">Envoyer</button>
        <p class="mt-5 mb-3 text-muted">© TLXL - 4MAt!on - {{ currentYearString }}</p>
        {{ form_end(requestForm) }}


    </div>

{% endblock %}

